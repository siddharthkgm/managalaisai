{% extends 'base.html' %}
{% load static %}

{% block title %}Home - EventRoyal{% endblock %}

{% block content %}
<div class="text-center mb-5 position-relative title-container" data-aos="fade-down">
    <div class="instrument-left">
        <i class="fas fa-user-music nadaswaram-icon" style="font-size: 3rem; color: var(--secondary-color);">
            <i class="fas fa-music ms-2"></i>
        </i>
    </div>
    <div class="instrument-right">
        <i class="fas fa-drum thavil-icon" style="font-size: 3rem; color: var(--secondary-color);"></i>
    </div>

    <!-- Music Notes Container -->
    <div class="notes-overlay">
        <img src="{% static 'music_notes.png' %}" class="note-float note-1" alt="Note">
        <img src="{% static 'music_notes.png' %}" class="note-float note-2" alt="Note">
        <img src="{% static 'music_notes.png' %}" class="note-float note-3" alt="Note">
    </div>

    <h1 class="display-3 fw-bold mb-3" style="color: var(--primary-color);">Plan Your Perfect Event</h1>
    <p class="lead" style="color: #666; max-width: 700px; margin: 0 auto;">
        Discover exclusive venues and traditional ceremonies.
        <br>
        <span style="color: var(--secondary-color); font-style: italic;">Where memories are crafted with
            elegance.</span>
    </p>
</div>

<div class="row">
    {% for function in function_types %}
    <div class="col-md-4 mb-5" data-aos="fade-up" data-aos-delay="{{ forloop.counter0|add:1 }}00">
        <div class="card h-100 border-0">
            <div class="position-relative overflow-hidden">
                {% if function.image %}
                <img src="{{ function.image.url }}" class="card-img-top" alt="{{ function.name }}"
                    style="height: 250px; object-fit: cover; transition: transform 0.5s;">
                {% else %}
                <div class="bg-secondary d-flex align-items-center justify-content-center text-white"
                    style="height: 250px;">
                    <span><i class="fas fa-image fa-3x opacity-50"></i></span>
                </div>
                {% endif %}
                <div
                    class="card-img-overlay opacity-0 hover-overlay d-flex align-items-center justify-content-center bg-dark bg-opacity-50 transition-opacity">
                    <!-- Hover content if needed -->
                </div>
            </div>

            <div class="card-body d-flex flex-column p-4">
                <h5 class="card-title fw-bold mb-3">{{ function.name }}</h5>
                <p class="card-text text-muted mb-4">{{ function.description|truncatewords:20 }}</p>

                <div class="mt-auto d-flex justify-content-between align-items-center pt-3 border-top">
                    <div>
                        <small class="text-uppercase text-muted fw-bold" style="font-size: 0.7rem;">Starting
                            from</small>
                        <div class="fw-bold fs-5" style="color: var(--secondary-color);">${{ function.base_price }}
                        </div>
                    </div>
                    <a href="{% url 'book_function' %}?function_type={{ function.id }}"
                        class="btn btn-primary rounded-pill px-4">
                        Book Now <i class="fas fa-arrow-right ms-2"></i>
                    </a>
                </div>
            </div>
        </div>
    </div>
    {% empty %}
    <div class="col-12 text-center py-5" data-aos="fade-in">
        <div class="p-5 bg-white rounded-4 shadow-sm">
            <i class="fas fa-calendar-times fa-4x text-muted mb-3"></i>
            <h3 class="text-muted">No events available right now.</h3>
            <p>Please check back later or contact us directly.</p>
        </div>
    </div>
    {% endfor %}
</div>
{% endblock %}